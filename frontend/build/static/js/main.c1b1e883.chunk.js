(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(38),i=a.n(s),o=(a(16),a(14)),l=a(39),c=a(40),u=a(41),m=a(45),h=a(44),d=a(42),g=a.n(d),p=a(43),f=a.n(p),y=(a(99),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).countdownTimer=function(e){n.setState({countdownTime:e}),e>0&&setTimeout((function(){return n.countdownTimer(e-1)}),1e3)},n.handleNewGameID=function(e){n.setState({gameID:e})},n.joinGame=function(){n.setState({isGameCreator:!1}),n.socket.emit("join game",n.state.gameID,(function(e){e.sucess?n.setState({appState:"join"}):console.log(e.errorMsg)}))},n.createNewGame=function(){n.setState({isGameCreator:!0,appState:"join"}),n.socket.emit("create new game",{},(function(e){console.log("got gameid from callback: "+e),n.setState({gameID:e})})),f.a.get("".concat(n.SERVER,"/categories")).then((function(e){console.log(e.data),n.setState({categories:e.data})}))},n.startGame=function(){n.socket.emit("start game",{gameID:n.state.gameID,category:n.state.selectedCategory,difficulty:n.state.difficulty,numberQuestions:n.state.numberQuestions}),n.setState({appState:"play"})},n.handleChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.value)),console.log("changed "+e.target.name+" to "+e.target.value)},n.handleSubmitName=function(){n.socket.emit("submit name",{gameID:n.state.gameID,playerName:n.state.playerName}),n.socket.emit("joining",{numInc:-1,gameID:n.state.gameID})},n.SERVER="http://localhost:4000",n.socket=g.a.connect(n.SERVER),n.state={userAnswer:"-1",isCorrectAnswer:0,gameID:"",playerName:"",appState:"init",isGameCreator:!1,numTypers:0,numberQuestions:10,difficulty:"-1",category:"-1"},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.socket.on("start countdown",(function(t){e.countdownTimer(t),e.setState({appState:"play"})})),this.socket.on("question",(function(t){console.log("got a question: "+t),e.setState({currentQuestion:t,correctAnswer:void 0,userAnswer:"-1"})})),this.socket.on("request answer",(function(){e.socket.emit("validate answer",{answer:e.state.userAnswer,questionNum:e.state.currentQuestion.index,gameID:e.state.gameID},(function(t){t.isCorrect;var a=t.correctAnswer;e.setState({correctAnswer:a})}))})),this.socket.on("number typers",(function(t){return e.setState({numTypers:t})})),this.socket.on("players",(function(t){return e.setState({players:t})})),this.socket.on("joining",(function(t){console.log("num joiners is "+t),e.setState({numJoiners:t})})),this.socket.on("game over",(function(){return e.setState({currentQuestion:void 0,correctAnswer:void 0,userAnswer:"-1"})}))}},{key:"render",value:function(){var e=this;return"init"===this.state.appState?r.a.createElement("div",{className:"prism-bg w-full h-full object-cover"},r.a.createElement("div",{className:"max-w-md mx-auto bg-gray-100 p-8"},r.a.createElement("label",{for:"gameID"},"join a game:"),r.a.createElement("input",{id:"gameID",name:"gameID",placeholder:"game code",value:this.state.gameID,onChange:this.handleChange}),r.a.createElement("button",{onClick:this.joinGame},"join"),r.a.createElement("br",null),"---- or ----",r.a.createElement("br",null),r.a.createElement("button",{onClick:this.createNewGame},"create new game"))):"join"===this.state.appState?r.a.createElement("div",null,r.a.createElement("p",null,this.state.gameID),r.a.createElement("input",{name:"playerName",onChange:this.handleChange,value:this.state.playerName,placeholder:"your name"}),r.a.createElement("button",{onClick:this.handleSubmitName},"submit"),this.state.numJoiners>0&&r.a.createElement("p",null,r.a.createElement("i",null,"someone is joining...")),this.state.players&&r.a.createElement("ul",null,r.a.createElement("h2",null,"Players:"),Object.entries(this.state.players).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return r.a.createElement("li",{key:a},n.name)}))),this.state.isGameCreator&&r.a.createElement("div",null,r.a.createElement("h2",null,"Select a category:"),this.state.categories&&r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"selectedCategory",value:-1,onChange:this.handleChange,checked:"-1"===this.state.selectedCategory}),"Any category"),this.state.categories.map((function(t){return r.a.createElement("label",{key:t.id},r.a.createElement("input",{type:"radio",name:"selectedCategory",value:t.id,onChange:e.handleChange,checked:e.state.selectedCategory===t.id.toString()}),t.name)}))),r.a.createElement("h2",null,"Select difficulty:"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"difficulty",value:-1,onChange:this.handleChange,checked:"-1"===this.state.difficulty}),"Any difficulty"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"difficulty",value:"easy",onChange:this.handleChange,checked:"easy"===this.state.difficulty}),"Easy"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"difficulty",value:"medium",onChange:this.handleChange,checked:"medium"===this.state.difficulty}),"Medium"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"difficulty",value:"hard",onChange:this.handleChange,checked:"hard"===this.state.difficulty}),"Hard"),r.a.createElement("h2",null,"Number of questions"),r.a.createElement("input",{type:"number",value:this.state.numberQuestions,name:"numberQuestions",onChange:this.handleChange}),r.a.createElement("button",{onClick:this.startGame},"start game"))):r.a.createElement("div",null,this.state.countdownTime>0&&r.a.createElement("p",null,"starting game in ",this.state.countdownTime),this.state.currentQuestion&&r.a.createElement("div",null,r.a.createElement("p",null,this.state.currentQuestion.question),this.state.currentQuestion.answers.map((function(t,a){return r.a.createElement("label",{key:a},r.a.createElement("input",{type:"radio",name:"userAnswer",value:a,onChange:e.handleChange,className:a===e.state.correctAnswer?"right":"wrong",checked:e.state.userAnswer===a.toString(),disabled:e.state.correctAnswer}),t)}))),r.a.createElement("p",null,this.state.correctAnswer),this.state.players&&r.a.createElement("ul",null,r.a.createElement("h2",null,"Leaderboard:"),Object.entries(this.state.players).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return r.a.createElement("li",{key:a},r.a.createElement("b",null,n.name),": ",n.score)}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},16:function(e,t,a){},46:function(e,t,a){e.exports=a(100)},80:function(e,t){},99:function(e,t,a){}},[[46,1,2]]]);
//# sourceMappingURL=main.c1b1e883.chunk.js.map